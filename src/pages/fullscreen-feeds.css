/* src/pages/fullscreen-feeds.css
   TRUE CCTV WALL MODE
   - dynamic auto grid
   - no borders, no gaps
   - perfect fullscreen math
*/

:root{
  --bg: #000000;
  --overlay-bg: rgba(0,0,0,0.36);
  --pill-live: rgba(255,75,75,0.95);
  --pill-off: rgba(120,120,120,0.85);
  --text: #e6f7ff;
  --muted: rgba(230,247,255,0.7);

  --navbar-height: 64px;
}

/* viewport stability */
html, body, #root {
  height: 100%;
  margin: 0;
  padding: 0;
  background: #000;
}

/* --------------------------------
   FIX NAVBAR ONLY FOR THIS PAGE
-------------------------------- */
body.__fullscreen-navbar-fixed header.navbar,
body.__fullscreen-navbar-fixed .navbar {
  position: fixed !important;
  top: 0;
  left: 0;
  right: 0;
  height: var(--navbar-height) !important;
  z-index: 9999 !important;
  margin: 0 !important;
  box-shadow: none !important;
}

body.__fullscreen-navbar-fixed .fs-page {
  padding-top: var(--navbar-height);
}

/* --------------------------------
   PAGE BASE
-------------------------------- */
.fs-page {
  height: 100vh;
  width: 100%;
  background: var(--bg);
  color: var(--text);
  display: flex;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

/* --------------------------------
   CCTV GRID (THE MAGIC)
-------------------------------- */
.fs-grid {
  --min-tile: 260px; /* change this to control density */

  display: grid;
  width: 100%;
  height: calc(100vh - var(--navbar-height));
  background: #000;
  margin: 0;
  padding: 0;

  grid-template-columns: repeat(
    auto-fit,
    minmax(var(--min-tile), 1fr)
  );

  grid-auto-rows: 1fr;
  gap: 0;
  overflow: hidden;
}

/* fallback */
body:not(.__fullscreen-navbar-fixed) .fs-grid {
  height: 100vh;
}

/* --------------------------------
   TILE = CCTV MONITOR
-------------------------------- */
.fs-tile {
  position: relative;
  width: 100%;
  height: 100%;
  background: #000;
  overflow: hidden;
  cursor: pointer;
  display: flex;

  /* real CCTV feel */
  aspect-ratio: 9 / 16;
}

/* --------------------------------
   VIDEO
-------------------------------- */
.fs-video {
  width: 100%;
  height: 100%;
  object-fit: cover;
  background: #000;
  display: block;
}

/* --------------------------------
   OVERLAY
-------------------------------- */
.fs-overlay {
  position: absolute;
  inset: 8px;
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  pointer-events: none;
}

.fs-overlay-left {
  display: flex;
  gap: 8px;
  align-items: center;
  pointer-events: auto;
}

.fs-pill {
  padding: 6px 10px;
  font-size: 0.75rem;
  font-weight: 700;
  border-radius: 999px;
  color: #fff;
}
.fs-pill.live { background: var(--pill-live); }
.fs-pill.offline { background: var(--pill-off); }

.fs-place {
  font-size: 0.9rem;
  font-weight: 700;
  color: #ff3b3b;
  text-shadow: 0 1px 6px rgba(0,0,0,0.7);
}

.fs-overlay-right {
  pointer-events: auto;
}

.fs-map-btn {
  background: rgba(0,0,0,0.55);
  color: var(--text);
  border: 0;
  padding: 6px 10px;
  font-size: 0.8rem;
  border-radius: 6px;
  cursor: pointer;
}

.fs-map-btn:hover {
  background: rgba(255,255,255,0.08);
}

/* --------------------------------
   STATES
-------------------------------- */
.fs-empty {
  grid-column: 1 / -1;
  align-self: center;
  justify-self: center;
  color: var(--muted);
  font-size: 1.05rem;
}

/* --------------------------------
   FULLSCREEN
-------------------------------- */
:fullscreen .fs-page,
:-webkit-full-screen .fs-page {
  height: 100vh;
}
